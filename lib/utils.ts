import { Manga } from "@/api/models/manga"
import { type ClassValue, clsx } from "clsx"
import { twMerge } from "tailwind-merge"

export const blurMangaDataURL =
	"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAuAAAARACAYAAACvEubdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABTWSURBVHgB7dZBAQAQAAAxFPDUQf9+tLjXlmJzn/sGAACQWAMAAMgIOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAICTgAAAQEnAAAAgJOAAAhAQcAABCAg4AACEBBwCAkIADAEBIwAEAIPQBj5QJz0eR9GkAAAAASUVORK5CYII="

export function cn(...inputs: ClassValue[]) {
	return twMerge(clsx(inputs))
}

export const codificarString = (string: string) => {
	return encodeURIComponent(string.replace(/ /g, "-"))
}

export const decodificarString = (string: string) => {
	return decodeURIComponent(string.replace(/-/g, " "))
}

export const obterCapituloSelecionado = (
	manga: Manga | undefined,
	capitulo: string
) => {
	const indiceAtual = encontrarIndiceCapituloAtual(
		capitulo,
		manga?.capitulos.map((c) => c.nomeCapitulo) as string[]
	)
	const { anterior, proximo } = obterCapitulosAdjacentes(
		indiceAtual,
		manga?.capitulos.map((c) => c.nomeCapitulo) as string[]
	)

	return {
		capituloSelecionado: manga?.capitulos.find(
			(c) => c.nomeCapitulo === capitulo
		),
		capituloAnterior: anterior,
		capituloProximo: proximo,
	}
}
const encontrarIndiceCapituloAtual = (
	capituloAtual: string,
	listaCapitulos: string[] | undefined
) => {
	if (!listaCapitulos) return 0
	return listaCapitulos.findIndex((capitulo) => capitulo === capituloAtual)
}

const obterCapitulosAdjacentes = (
	indiceAtual: number,
	listaCapitulos: string[] | undefined
) => {
	let anterior: string | undefined
	let proximo: string | undefined

	if (indiceAtual > 0) {
		anterior = listaCapitulos?.[indiceAtual - 1]
	}

	if (indiceAtual < (listaCapitulos ?? [])?.length - 1) {
		proximo = listaCapitulos?.[indiceAtual + 1]
	}

	return { anterior, proximo }
}
